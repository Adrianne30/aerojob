{"ast":null,"code":"import _objectSpread from\"/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useMemo,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import{surveysAPI}from'../../utils/api';import Toggle from'../../components/Toggle';import{ArrowLeft,Plus,Trash2}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TYPE_OPTIONS=[{value:'short_text',label:'Short Text'},{value:'long_text',label:'Long Text'},{value:'multiple_choice',label:'Multiple Choice'},{value:'checkbox',label:'Checkboxes'},{value:'rating',label:'Rating'}];const emptyQuestion=()=>({text:'',type:'short_text',required:false,options:[],optionsText:''// <-- keep raw text for MCQ/checkbox while typing\n});export default function SurveyBuilder(){const{id}=useParams();const isEdit=Boolean(id);const navigate=useNavigate();const[saving,setSaving]=useState(false);const[form,setForm]=useState({title:'',description:'',audience:'all',status:'draft',questions:[emptyQuestion()]});const isActive=useMemo(()=>form.status==='active',[form.status]);useEffect(()=>{if(!isEdit)return;(async()=>{try{const data=await surveysAPI.get(id);setForm({title:data.title||'',description:data.description||'',audience:(data.audience||'all').toLowerCase(),status:(data.status||'draft').toLowerCase(),questions:Array.isArray(data.questions)&&data.questions.length?data.questions.map(q=>({_id:q._id,text:q.text||'',type:(q.type||'short_text').toLowerCase(),required:!!q.required,options:Array.isArray(q.options)?q.options:[],optionsText:Array.isArray(q.options)?q.options.join('\\n'):''// <-- hydrate text\n})):[emptyQuestion()]});}catch(err){console.error(err);alert('Failed to load survey.');navigate('/admin/surveys');}})();},[id,isEdit,navigate]);const update=patch=>setForm(prev=>_objectSpread(_objectSpread({},prev),patch));const updateQ=(idx,patch)=>setForm(prev=>{const next=[...prev.questions];next[idx]=_objectSpread(_objectSpread({},next[idx]),patch);return _objectSpread(_objectSpread({},prev),{},{questions:next});});const addQuestion=()=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{questions:[...prev.questions,emptyQuestion()]}));const removeQuestion=idx=>setForm(prev=>{const next=prev.questions.filter((_,i)=>i!==idx);return _objectSpread(_objectSpread({},prev),{},{questions:next.length?next:[emptyQuestion()]});});const save=async()=>{setSaving(true);try{const payload=_objectSpread(_objectSpread({},form),{},{status:form.status==='active'?'active':'draft',questions:form.questions.map(q=>{var _q$optionsText;const isChoice=q.type==='multiple_choice'||q.type==='checkbox';// Clean ONLY on save\nconst cleanedOptions=isChoice?String((_q$optionsText=q.optionsText)!==null&&_q$optionsText!==void 0?_q$optionsText:'').split('\\n').map(s=>s.trim()).filter(s=>s.length>0):[];return{_id:q._id,text:q.text,type:q.type,required:!!q.required,options:cleanedOptions};})});if(isEdit)await surveysAPI.update(id,payload);else await surveysAPI.create(payload);navigate('/admin/surveys');}catch(err){var _err$response,_err$response$data;console.error(err);alert((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to save survey.');}finally{setSaving(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-5xl mx-auto px-4 py-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>navigate(-1),className:\"inline-flex items-center gap-2 px-2 py-1 rounded-md text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Back\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:isEdit?'Edit Survey':'New Survey'}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(\"button\",{disabled:saving,onClick:save,className:\"btn btn-primary btn-sm\",children:saving?'Savingâ€¦':'Save'})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body grid gap-4 md:grid-cols-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input w-full\",value:form.title,onChange:e=>update({title:e.target.value}),placeholder:\"Survey title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Audience\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"input w-full\",value:form.audience,onChange:e=>update({audience:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"students\",children:\"Students\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alumni\",children:\"Alumni\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea w-full\",rows:3,value:form.description,onChange:e=>update({description:e.target.value}),placeholder:\"Describe this survey\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex md:col-span-1 md:items-start md:justify-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label mb-1 block text-right\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end gap-3\",children:[/*#__PURE__*/_jsx(Toggle,{checked:isActive,onChange:on=>update({status:on?'active':'draft'})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(isActive?'text-green-600':'text-gray-500'),children:isActive?'Active':'Inactive'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-70 mt-1 max-w-[18rem] ml-auto\",children:\"When Active, eligible students/alumni will be prompted to answer.\"})]})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold\",children:\"Questions\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:addQuestion,className:\"btn btn-ghost btn-sm inline-flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\" Add question\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-4\",children:form.questions.map((q,i)=>{var _q$optionsText4;return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body grid gap-4 md:grid-cols-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium\",children:[\"Q\",i+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Required\"}),/*#__PURE__*/_jsx(Toggle,{checked:q.required,onChange:on=>updateQ(i,{required:on})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm opacity-80\",children:q.required?'Yes':'No'})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>removeQuestion(i),className:\"btn btn-ghost btn-xs text-error inline-flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),\" Remove\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Question Text\"}),/*#__PURE__*/_jsx(\"input\",{className:\"input w-full\",value:q.text,onChange:e=>updateQ(i,{text:e.target.value}),placeholder:\"Write your question\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Type\"}),/*#__PURE__*/_jsx(\"select\",{className:\"input w-full\",value:q.type,onChange:e=>{var _q$optionsText2,_q$optionsText3;const nextType=e.target.value;// if switching away from choice types, keep options but also set optionsText for future\nupdateQ(i,{type:nextType,optionsText:nextType==='multiple_choice'||nextType==='checkbox'?(_q$optionsText2=q.optionsText)!==null&&_q$optionsText2!==void 0?_q$optionsText2:(q.options||[]).join('\\n'):(_q$optionsText3=q.optionsText)!==null&&_q$optionsText3!==void 0?_q$optionsText3:''});},children:TYPE_OPTIONS.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt.value,children:opt.label},opt.value))})]}),/*#__PURE__*/_jsx(\"div\",{}),(q.type==='multiple_choice'||q.type==='checkbox')&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Options (one per line)\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"textarea w-full\",rows:3,value:(_q$optionsText4=q.optionsText)!==null&&_q$optionsText4!==void 0?_q$optionsText4:(q.options||[]).join('\\n'),onChange:e=>// DO NOT trim/filter while typing; keep raw text\nupdateQ(i,{optionsText:e.target.value,options:e.target.value.split('\\n')// keep lines as-is during edit\n}),placeholder:\"e.g. Option A\\nOption B\\nOption C\"})]})]})},q._id||i);})})]});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","useParams","surveysAPI","Toggle","ArrowLeft","Plus","Trash2","jsx","_jsx","jsxs","_jsxs","TYPE_OPTIONS","value","label","emptyQuestion","text","type","required","options","optionsText","SurveyBuilder","id","isEdit","Boolean","navigate","saving","setSaving","form","setForm","title","description","audience","status","questions","isActive","data","get","toLowerCase","Array","isArray","length","map","q","_id","join","err","console","error","alert","update","patch","prev","_objectSpread","updateQ","idx","next","addQuestion","removeQuestion","filter","_","i","save","payload","_q$optionsText","isChoice","cleanedOptions","String","split","s","trim","create","_err$response","_err$response$data","response","message","className","children","onClick","disabled","onChange","e","target","placeholder","rows","checked","on","concat","_q$optionsText4","_q$optionsText2","_q$optionsText3","nextType","opt"],"sources":["/Users/macbookair/Desktop/AeroJobs/AeroJob/frontend/src/pages/admin/SurveyBuilder.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { surveysAPI } from '../../utils/api';\nimport Toggle from '../../components/Toggle';\nimport { ArrowLeft, Plus, Trash2 } from 'lucide-react';\n\nconst TYPE_OPTIONS = [\n  { value: 'short_text', label: 'Short Text' },\n  { value: 'long_text', label: 'Long Text' },\n  { value: 'multiple_choice', label: 'Multiple Choice' },\n  { value: 'checkbox', label: 'Checkboxes' },\n  { value: 'rating', label: 'Rating' },\n];\n\nconst emptyQuestion = () => ({\n  text: '',\n  type: 'short_text',\n  required: false,\n  options: [],\n  optionsText: '', // <-- keep raw text for MCQ/checkbox while typing\n});\n\nexport default function SurveyBuilder() {\n  const { id } = useParams();\n  const isEdit = Boolean(id);\n  const navigate = useNavigate();\n\n  const [saving, setSaving] = useState(false);\n  const [form, setForm] = useState({\n    title: '',\n    description: '',\n    audience: 'all',\n    status: 'draft',\n    questions: [emptyQuestion()],\n  });\n\n  const isActive = useMemo(() => form.status === 'active', [form.status]);\n\n  useEffect(() => {\n    if (!isEdit) return;\n    (async () => {\n      try {\n        const data = await surveysAPI.get(id);\n        setForm({\n          title: data.title || '',\n          description: data.description || '',\n          audience: (data.audience || 'all').toLowerCase(),\n          status: (data.status || 'draft').toLowerCase(),\n          questions: Array.isArray(data.questions) && data.questions.length\n            ? data.questions.map(q => ({\n                _id: q._id,\n                text: q.text || '',\n                type: (q.type || 'short_text').toLowerCase(),\n                required: !!q.required,\n                options: Array.isArray(q.options) ? q.options : [],\n                optionsText: Array.isArray(q.options) ? q.options.join('\\n') : '', // <-- hydrate text\n              }))\n            : [emptyQuestion()],\n        });\n      } catch (err) {\n        console.error(err);\n        alert('Failed to load survey.');\n        navigate('/admin/surveys');\n      }\n    })();\n  }, [id, isEdit, navigate]);\n\n  const update = (patch) => setForm(prev => ({ ...prev, ...patch }));\n  const updateQ = (idx, patch) =>\n    setForm(prev => {\n      const next = [...prev.questions];\n      next[idx] = { ...next[idx], ...patch };\n      return { ...prev, questions: next };\n    });\n\n  const addQuestion = () =>\n    setForm(prev => ({ ...prev, questions: [...prev.questions, emptyQuestion()] }));\n\n  const removeQuestion = (idx) =>\n    setForm(prev => {\n      const next = prev.questions.filter((_, i) => i !== idx);\n      return { ...prev, questions: next.length ? next : [emptyQuestion()] };\n    });\n\n  const save = async () => {\n    setSaving(true);\n    try {\n      const payload = {\n        ...form,\n        status: form.status === 'active' ? 'active' : 'draft',\n        questions: form.questions.map(q => {\n          const isChoice = q.type === 'multiple_choice' || q.type === 'checkbox';\n          // Clean ONLY on save\n          const cleanedOptions = isChoice\n            ? String(q.optionsText ?? '')\n                .split('\\n')\n                .map(s => s.trim())\n                .filter(s => s.length > 0)\n            : [];\n          return {\n            _id: q._id,\n            text: q.text,\n            type: q.type,\n            required: !!q.required,\n            options: cleanedOptions,\n          };\n        }),\n      };\n\n      if (isEdit) await surveysAPI.update(id, payload);\n      else await surveysAPI.create(payload);\n\n      navigate('/admin/surveys');\n    } catch (err) {\n      console.error(err);\n      alert(err?.response?.data?.message || 'Failed to save survey.');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-5xl mx-auto px-4 py-6\">\n      {/* Header */}\n      <div className=\"flex items-center gap-3 mb-6\">\n        <button\n          type=\"button\"\n          onClick={() => navigate(-1)}\n          className=\"inline-flex items-center gap-2 px-2 py-1 rounded-md text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100\"\n        >\n          <ArrowLeft className=\"w-4 h-4\" />\n          <span className=\"hidden sm:inline\">Back</span>\n        </button>\n\n        <h1 className=\"text-xl font-semibold\">\n          {isEdit ? 'Edit Survey' : 'New Survey'}\n        </h1>\n\n        <div className=\"ml-auto\">\n          <button\n            disabled={saving}\n            onClick={save}\n            className=\"btn btn-primary btn-sm\"\n          >\n            {saving ? 'Savingâ€¦' : 'Save'}\n          </button>\n        </div>\n      </div>\n\n      {/* Main form */}\n      <div className=\"card mb-6\">\n        <div className=\"card-body grid gap-4 md:grid-cols-3\">\n          <div className=\"md:col-span-2\">\n            <label className=\"label\">Title</label>\n            <input\n              className=\"input w-full\"\n              value={form.title}\n              onChange={(e) => update({ title: e.target.value })}\n              placeholder=\"Survey title\"\n            />\n          </div>\n\n          <div className=\"\">\n            <label className=\"label\">Audience</label>\n            <select\n              className=\"input w-full\"\n              value={form.audience}\n              onChange={(e) => update({ audience: e.target.value })}\n            >\n              <option value=\"all\">All</option>\n              <option value=\"students\">Students</option>\n              <option value=\"alumni\">Alumni</option>\n            </select>\n          </div>\n\n          <div className=\"md:col-span-2\">\n            <label className=\"label\">Description</label>\n            <textarea\n              className=\"textarea w-full\"\n              rows={3}\n              value={form.description}\n              onChange={(e) => update({ description: e.target.value })}\n              placeholder=\"Describe this survey\"\n            />\n          </div>\n\n          <div className=\"flex md:col-span-1 md:items-start md:justify-end\">\n            <div className=\"text-right\">\n              <label className=\"label mb-1 block text-right\">Status</label>\n              <div className=\"flex items-center justify-end gap-3\">\n                <Toggle\n                  checked={isActive}\n                  onChange={(on) => update({ status: on ? 'active' : 'draft' })}\n                />\n                <span className={`text-sm font-medium ${isActive ? 'text-green-600' : 'text-gray-500'}`}>\n                  {isActive ? 'Active' : 'Inactive'}\n                </span>\n              </div>\n              <p className=\"text-xs opacity-70 mt-1 max-w-[18rem] ml-auto\">\n                When Active, eligible students/alumni will be prompted to answer.\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Questions */}\n      <div className=\"flex items-center justify-between mb-2\">\n        <h2 className=\"text-lg font-semibold\">Questions</h2>\n        <button onClick={addQuestion} className=\"btn btn-ghost btn-sm inline-flex items-center gap-1\">\n          <Plus className=\"w-4 h-4\" /> Add question\n        </button>\n      </div>\n\n      <div className=\"grid gap-4\">\n        {form.questions.map((q, i) => (\n          <div key={q._id || i} className=\"card\">\n            <div className=\"card-body grid gap-4 md:grid-cols-2\">\n              <div className=\"md:col-span-2 flex items-center justify-between\">\n                <div className=\"text-sm font-medium\">Q{i + 1}</div>\n\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-gray-600\">Required</span>\n                    <Toggle\n                      checked={q.required}\n                      onChange={(on) => updateQ(i, { required: on })}\n                    />\n                    <span className=\"text-sm opacity-80\">\n                      {q.required ? 'Yes' : 'No'}\n                    </span>\n                  </div>\n\n                  <button\n                    type=\"button\"\n                    onClick={() => removeQuestion(i)}\n                    className=\"btn btn-ghost btn-xs text-error inline-flex items-center gap-1\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" /> Remove\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <label className=\"label\">Question Text</label>\n                <input\n                  className=\"input w-full\"\n                  value={q.text}\n                  onChange={(e) => updateQ(i, { text: e.target.value })}\n                  placeholder=\"Write your question\"\n                />\n              </div>\n\n              <div>\n                <label className=\"label\">Type</label>\n                <select\n                  className=\"input w-full\"\n                  value={q.type}\n                  onChange={(e) => {\n                    const nextType = e.target.value;\n                    // if switching away from choice types, keep options but also set optionsText for future\n                    updateQ(i, {\n                      type: nextType,\n                      optionsText:\n                        nextType === 'multiple_choice' || nextType === 'checkbox'\n                          ? (q.optionsText ?? (q.options || []).join('\\n'))\n                          : (q.optionsText ?? ''),\n                    });\n                  }}\n                >\n                  {TYPE_OPTIONS.map((opt) => (\n                    <option key={opt.value} value={opt.value}>\n                      {opt.label}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              <div />\n\n              {(q.type === 'multiple_choice' || q.type === 'checkbox') && (\n                <div className=\"md:col-span-2\">\n                  <label className=\"label\">Options (one per line)</label>\n                  <textarea\n                    className=\"textarea w-full\"\n                    rows={3}\n                    value={q.optionsText ?? (q.options || []).join('\\n')}\n                    onChange={(e) =>\n                      // DO NOT trim/filter while typing; keep raw text\n                      updateQ(i, {\n                        optionsText: e.target.value,\n                        options: e.target.value.split('\\n'), // keep lines as-is during edit\n                      })\n                    }\n                    placeholder={`e.g. Option A\nOption B\nOption C`}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"wIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC3D,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,OAASC,UAAU,KAAQ,iBAAiB,CAC5C,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,SAAS,CAAEC,IAAI,CAAEC,MAAM,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,KAAM,CAAAC,YAAY,CAAG,CACnB,CAAEC,KAAK,CAAE,YAAY,CAAEC,KAAK,CAAE,YAAa,CAAC,CAC5C,CAAED,KAAK,CAAE,WAAW,CAAEC,KAAK,CAAE,WAAY,CAAC,CAC1C,CAAED,KAAK,CAAE,iBAAiB,CAAEC,KAAK,CAAE,iBAAkB,CAAC,CACtD,CAAED,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAE,YAAa,CAAC,CAC1C,CAAED,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAS,CAAC,CACrC,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,IAAO,CAC3BC,IAAI,CAAE,EAAE,CACRC,IAAI,CAAE,YAAY,CAClBC,QAAQ,CAAE,KAAK,CACfC,OAAO,CAAE,EAAE,CACXC,WAAW,CAAE,EAAI;AACnB,CAAC,CAAC,CAEF,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAG,CACtC,KAAM,CAAEC,EAAG,CAAC,CAAGpB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAqB,MAAM,CAAGC,OAAO,CAACF,EAAE,CAAC,CAC1B,KAAM,CAAAG,QAAQ,CAAGxB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACyB,MAAM,CAAEC,SAAS,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAAC4B,IAAI,CAAEC,OAAO,CAAC,CAAG7B,QAAQ,CAAC,CAC/B8B,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,KAAK,CACfC,MAAM,CAAE,OAAO,CACfC,SAAS,CAAE,CAACnB,aAAa,CAAC,CAAC,CAC7B,CAAC,CAAC,CAEF,KAAM,CAAAoB,QAAQ,CAAGpC,OAAO,CAAC,IAAM6B,IAAI,CAACK,MAAM,GAAK,QAAQ,CAAE,CAACL,IAAI,CAACK,MAAM,CAAC,CAAC,CAEvEnC,SAAS,CAAC,IAAM,CACd,GAAI,CAACyB,MAAM,CAAE,OACb,CAAC,SAAY,CACX,GAAI,CACF,KAAM,CAAAa,IAAI,CAAG,KAAM,CAAAjC,UAAU,CAACkC,GAAG,CAACf,EAAE,CAAC,CACrCO,OAAO,CAAC,CACNC,KAAK,CAAEM,IAAI,CAACN,KAAK,EAAI,EAAE,CACvBC,WAAW,CAAEK,IAAI,CAACL,WAAW,EAAI,EAAE,CACnCC,QAAQ,CAAE,CAACI,IAAI,CAACJ,QAAQ,EAAI,KAAK,EAAEM,WAAW,CAAC,CAAC,CAChDL,MAAM,CAAE,CAACG,IAAI,CAACH,MAAM,EAAI,OAAO,EAAEK,WAAW,CAAC,CAAC,CAC9CJ,SAAS,CAAEK,KAAK,CAACC,OAAO,CAACJ,IAAI,CAACF,SAAS,CAAC,EAAIE,IAAI,CAACF,SAAS,CAACO,MAAM,CAC7DL,IAAI,CAACF,SAAS,CAACQ,GAAG,CAACC,CAAC,GAAK,CACvBC,GAAG,CAAED,CAAC,CAACC,GAAG,CACV5B,IAAI,CAAE2B,CAAC,CAAC3B,IAAI,EAAI,EAAE,CAClBC,IAAI,CAAE,CAAC0B,CAAC,CAAC1B,IAAI,EAAI,YAAY,EAAEqB,WAAW,CAAC,CAAC,CAC5CpB,QAAQ,CAAE,CAAC,CAACyB,CAAC,CAACzB,QAAQ,CACtBC,OAAO,CAAEoB,KAAK,CAACC,OAAO,CAACG,CAAC,CAACxB,OAAO,CAAC,CAAGwB,CAAC,CAACxB,OAAO,CAAG,EAAE,CAClDC,WAAW,CAAEmB,KAAK,CAACC,OAAO,CAACG,CAAC,CAACxB,OAAO,CAAC,CAAGwB,CAAC,CAACxB,OAAO,CAAC0B,IAAI,CAAC,IAAI,CAAC,CAAG,EAAI;AACrE,CAAC,CAAC,CAAC,CACH,CAAC9B,aAAa,CAAC,CAAC,CACtB,CAAC,CAAC,CACJ,CAAE,MAAO+B,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBG,KAAK,CAAC,wBAAwB,CAAC,CAC/BxB,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CACF,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,CAACH,EAAE,CAAEC,MAAM,CAAEE,QAAQ,CAAC,CAAC,CAE1B,KAAM,CAAAyB,MAAM,CAAIC,KAAK,EAAKtB,OAAO,CAACuB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,EAAKD,KAAK,CAAG,CAAC,CAClE,KAAM,CAAAG,OAAO,CAAGA,CAACC,GAAG,CAAEJ,KAAK,GACzBtB,OAAO,CAACuB,IAAI,EAAI,CACd,KAAM,CAAAI,IAAI,CAAG,CAAC,GAAGJ,IAAI,CAAClB,SAAS,CAAC,CAChCsB,IAAI,CAACD,GAAG,CAAC,CAAAF,aAAA,CAAAA,aAAA,IAAQG,IAAI,CAACD,GAAG,CAAC,EAAKJ,KAAK,CAAE,CACtC,OAAAE,aAAA,CAAAA,aAAA,IAAYD,IAAI,MAAElB,SAAS,CAAEsB,IAAI,GACnC,CAAC,CAAC,CAEJ,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAClB5B,OAAO,CAACuB,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAElB,SAAS,CAAE,CAAC,GAAGkB,IAAI,CAAClB,SAAS,CAAEnB,aAAa,CAAC,CAAC,CAAC,EAAG,CAAC,CAEjF,KAAM,CAAA2C,cAAc,CAAIH,GAAG,EACzB1B,OAAO,CAACuB,IAAI,EAAI,CACd,KAAM,CAAAI,IAAI,CAAGJ,IAAI,CAAClB,SAAS,CAACyB,MAAM,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKA,CAAC,GAAKN,GAAG,CAAC,CACvD,OAAAF,aAAA,CAAAA,aAAA,IAAYD,IAAI,MAAElB,SAAS,CAAEsB,IAAI,CAACf,MAAM,CAAGe,IAAI,CAAG,CAACzC,aAAa,CAAC,CAAC,CAAC,GACrE,CAAC,CAAC,CAEJ,KAAM,CAAA+C,IAAI,CAAG,KAAAA,CAAA,GAAY,CACvBnC,SAAS,CAAC,IAAI,CAAC,CACf,GAAI,CACF,KAAM,CAAAoC,OAAO,CAAAV,aAAA,CAAAA,aAAA,IACRzB,IAAI,MACPK,MAAM,CAAEL,IAAI,CAACK,MAAM,GAAK,QAAQ,CAAG,QAAQ,CAAG,OAAO,CACrDC,SAAS,CAAEN,IAAI,CAACM,SAAS,CAACQ,GAAG,CAACC,CAAC,EAAI,KAAAqB,cAAA,CACjC,KAAM,CAAAC,QAAQ,CAAGtB,CAAC,CAAC1B,IAAI,GAAK,iBAAiB,EAAI0B,CAAC,CAAC1B,IAAI,GAAK,UAAU,CACtE;AACA,KAAM,CAAAiD,cAAc,CAAGD,QAAQ,CAC3BE,MAAM,EAAAH,cAAA,CAACrB,CAAC,CAACvB,WAAW,UAAA4C,cAAA,UAAAA,cAAA,CAAI,EAAE,CAAC,CACxBI,KAAK,CAAC,IAAI,CAAC,CACX1B,GAAG,CAAC2B,CAAC,EAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAClBX,MAAM,CAACU,CAAC,EAAIA,CAAC,CAAC5B,MAAM,CAAG,CAAC,CAAC,CAC5B,EAAE,CACN,MAAO,CACLG,GAAG,CAAED,CAAC,CAACC,GAAG,CACV5B,IAAI,CAAE2B,CAAC,CAAC3B,IAAI,CACZC,IAAI,CAAE0B,CAAC,CAAC1B,IAAI,CACZC,QAAQ,CAAE,CAAC,CAACyB,CAAC,CAACzB,QAAQ,CACtBC,OAAO,CAAE+C,cACX,CAAC,CACH,CAAC,CAAC,EACH,CAED,GAAI3C,MAAM,CAAE,KAAM,CAAApB,UAAU,CAAC+C,MAAM,CAAC5B,EAAE,CAAEyC,OAAO,CAAC,CAAC,IAC5C,MAAM,CAAA5D,UAAU,CAACoE,MAAM,CAACR,OAAO,CAAC,CAErCtC,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CAAE,MAAOqB,GAAG,CAAE,KAAA0B,aAAA,CAAAC,kBAAA,CACZ1B,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBG,KAAK,CAAC,CAAAH,GAAG,SAAHA,GAAG,kBAAA0B,aAAA,CAAH1B,GAAG,CAAE4B,QAAQ,UAAAF,aAAA,kBAAAC,kBAAA,CAAbD,aAAA,CAAepC,IAAI,UAAAqC,kBAAA,iBAAnBA,kBAAA,CAAqBE,OAAO,GAAI,wBAAwB,CAAC,CACjE,CAAC,OAAS,CACRhD,SAAS,CAAC,KAAK,CAAC,CAClB,CACF,CAAC,CAED,mBACEhB,KAAA,QAAKiE,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAE1ClE,KAAA,QAAKiE,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3ClE,KAAA,WACEM,IAAI,CAAC,QAAQ,CACb6D,OAAO,CAAEA,CAAA,GAAMrD,QAAQ,CAAC,CAAC,CAAC,CAAE,CAC5BmD,SAAS,CAAC,iHAAiH,CAAAC,QAAA,eAE3HpE,IAAA,CAACJ,SAAS,EAACuE,SAAS,CAAC,SAAS,CAAE,CAAC,cACjCnE,IAAA,SAAMmE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,EACxC,CAAC,cAETpE,IAAA,OAAImE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAClCtD,MAAM,CAAG,aAAa,CAAG,YAAY,CACpC,CAAC,cAELd,IAAA,QAAKmE,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtBpE,IAAA,WACEsE,QAAQ,CAAErD,MAAO,CACjBoD,OAAO,CAAEhB,IAAK,CACdc,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAEjCnD,MAAM,CAAG,SAAS,CAAG,MAAM,CACtB,CAAC,CACN,CAAC,EACH,CAAC,cAGNjB,IAAA,QAAKmE,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBlE,KAAA,QAAKiE,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDlE,KAAA,QAAKiE,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpE,IAAA,UAAOmE,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,OAAK,CAAO,CAAC,cACtCpE,IAAA,UACEmE,SAAS,CAAC,cAAc,CACxB/D,KAAK,CAAEe,IAAI,CAACE,KAAM,CAClBkD,QAAQ,CAAGC,CAAC,EAAK/B,MAAM,CAAC,CAAEpB,KAAK,CAAEmD,CAAC,CAACC,MAAM,CAACrE,KAAM,CAAC,CAAE,CACnDsE,WAAW,CAAC,cAAc,CAC3B,CAAC,EACC,CAAC,cAENxE,KAAA,QAAKiE,SAAS,CAAC,EAAE,CAAAC,QAAA,eACfpE,IAAA,UAAOmE,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cACzClE,KAAA,WACEiE,SAAS,CAAC,cAAc,CACxB/D,KAAK,CAAEe,IAAI,CAACI,QAAS,CACrBgD,QAAQ,CAAGC,CAAC,EAAK/B,MAAM,CAAC,CAAElB,QAAQ,CAAEiD,CAAC,CAACC,MAAM,CAACrE,KAAM,CAAC,CAAE,CAAAgE,QAAA,eAEtDpE,IAAA,WAAQI,KAAK,CAAC,KAAK,CAAAgE,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChCpE,IAAA,WAAQI,KAAK,CAAC,UAAU,CAAAgE,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CpE,IAAA,WAAQI,KAAK,CAAC,QAAQ,CAAAgE,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChC,CAAC,EACN,CAAC,cAENlE,KAAA,QAAKiE,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpE,IAAA,UAAOmE,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,aAAW,CAAO,CAAC,cAC5CpE,IAAA,aACEmE,SAAS,CAAC,iBAAiB,CAC3BQ,IAAI,CAAE,CAAE,CACRvE,KAAK,CAAEe,IAAI,CAACG,WAAY,CACxBiD,QAAQ,CAAGC,CAAC,EAAK/B,MAAM,CAAC,CAAEnB,WAAW,CAAEkD,CAAC,CAACC,MAAM,CAACrE,KAAM,CAAC,CAAE,CACzDsE,WAAW,CAAC,sBAAsB,CACnC,CAAC,EACC,CAAC,cAEN1E,IAAA,QAAKmE,SAAS,CAAC,kDAAkD,CAAAC,QAAA,cAC/DlE,KAAA,QAAKiE,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpE,IAAA,UAAOmE,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAAC,QAAM,CAAO,CAAC,cAC7DlE,KAAA,QAAKiE,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDpE,IAAA,CAACL,MAAM,EACLiF,OAAO,CAAElD,QAAS,CAClB6C,QAAQ,CAAGM,EAAE,EAAKpC,MAAM,CAAC,CAAEjB,MAAM,CAAEqD,EAAE,CAAG,QAAQ,CAAG,OAAQ,CAAC,CAAE,CAC/D,CAAC,cACF7E,IAAA,SAAMmE,SAAS,wBAAAW,MAAA,CAAyBpD,QAAQ,CAAG,gBAAgB,CAAG,eAAe,CAAG,CAAA0C,QAAA,CACrF1C,QAAQ,CAAG,QAAQ,CAAG,UAAU,CAC7B,CAAC,EACJ,CAAC,cACN1B,IAAA,MAAGmE,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAC,mEAE7D,CAAG,CAAC,EACD,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,cAGNlE,KAAA,QAAKiE,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDpE,IAAA,OAAImE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACpDlE,KAAA,WAAQmE,OAAO,CAAErB,WAAY,CAACmB,SAAS,CAAC,qDAAqD,CAAAC,QAAA,eAC3FpE,IAAA,CAACH,IAAI,EAACsE,SAAS,CAAC,SAAS,CAAE,CAAC,gBAC9B,EAAQ,CAAC,EACN,CAAC,cAENnE,IAAA,QAAKmE,SAAS,CAAC,YAAY,CAAAC,QAAA,CACxBjD,IAAI,CAACM,SAAS,CAACQ,GAAG,CAAC,CAACC,CAAC,CAAEkB,CAAC,QAAA2B,eAAA,oBACvB/E,IAAA,QAAsBmE,SAAS,CAAC,MAAM,CAAAC,QAAA,cACpClE,KAAA,QAAKiE,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDlE,KAAA,QAAKiE,SAAS,CAAC,iDAAiD,CAAAC,QAAA,eAC9DlE,KAAA,QAAKiE,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EAAC,GAAC,CAAChB,CAAC,CAAG,CAAC,EAAM,CAAC,cAEnDlD,KAAA,QAAKiE,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtClE,KAAA,QAAKiE,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCpE,IAAA,SAAMmE,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,UAAQ,CAAM,CAAC,cACvDpE,IAAA,CAACL,MAAM,EACLiF,OAAO,CAAE1C,CAAC,CAACzB,QAAS,CACpB8D,QAAQ,CAAGM,EAAE,EAAKhC,OAAO,CAACO,CAAC,CAAE,CAAE3C,QAAQ,CAAEoE,EAAG,CAAC,CAAE,CAChD,CAAC,cACF7E,IAAA,SAAMmE,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CACjClC,CAAC,CAACzB,QAAQ,CAAG,KAAK,CAAG,IAAI,CACtB,CAAC,EACJ,CAAC,cAENP,KAAA,WACEM,IAAI,CAAC,QAAQ,CACb6D,OAAO,CAAEA,CAAA,GAAMpB,cAAc,CAACG,CAAC,CAAE,CACjCe,SAAS,CAAC,gEAAgE,CAAAC,QAAA,eAE1EpE,IAAA,CAACF,MAAM,EAACqE,SAAS,CAAC,SAAS,CAAE,CAAC,UAChC,EAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAENjE,KAAA,QAAKiE,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpE,IAAA,UAAOmE,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cAC9CpE,IAAA,UACEmE,SAAS,CAAC,cAAc,CACxB/D,KAAK,CAAE8B,CAAC,CAAC3B,IAAK,CACdgE,QAAQ,CAAGC,CAAC,EAAK3B,OAAO,CAACO,CAAC,CAAE,CAAE7C,IAAI,CAAEiE,CAAC,CAACC,MAAM,CAACrE,KAAM,CAAC,CAAE,CACtDsE,WAAW,CAAC,qBAAqB,CAClC,CAAC,EACC,CAAC,cAENxE,KAAA,QAAAkE,QAAA,eACEpE,IAAA,UAAOmE,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,MAAI,CAAO,CAAC,cACrCpE,IAAA,WACEmE,SAAS,CAAC,cAAc,CACxB/D,KAAK,CAAE8B,CAAC,CAAC1B,IAAK,CACd+D,QAAQ,CAAGC,CAAC,EAAK,KAAAQ,eAAA,CAAAC,eAAA,CACf,KAAM,CAAAC,QAAQ,CAAGV,CAAC,CAACC,MAAM,CAACrE,KAAK,CAC/B;AACAyC,OAAO,CAACO,CAAC,CAAE,CACT5C,IAAI,CAAE0E,QAAQ,CACdvE,WAAW,CACTuE,QAAQ,GAAK,iBAAiB,EAAIA,QAAQ,GAAK,UAAU,EAAAF,eAAA,CACpD9C,CAAC,CAACvB,WAAW,UAAAqE,eAAA,UAAAA,eAAA,CAAI,CAAC9C,CAAC,CAACxB,OAAO,EAAI,EAAE,EAAE0B,IAAI,CAAC,IAAI,CAAC,EAAA6C,eAAA,CAC7C/C,CAAC,CAACvB,WAAW,UAAAsE,eAAA,UAAAA,eAAA,CAAI,EAC1B,CAAC,CAAC,CACJ,CAAE,CAAAb,QAAA,CAEDjE,YAAY,CAAC8B,GAAG,CAAEkD,GAAG,eACpBnF,IAAA,WAAwBI,KAAK,CAAE+E,GAAG,CAAC/E,KAAM,CAAAgE,QAAA,CACtCe,GAAG,CAAC9E,KAAK,EADC8E,GAAG,CAAC/E,KAET,CACT,CAAC,CACI,CAAC,EACN,CAAC,cAENJ,IAAA,SAAM,CAAC,CAEN,CAACkC,CAAC,CAAC1B,IAAI,GAAK,iBAAiB,EAAI0B,CAAC,CAAC1B,IAAI,GAAK,UAAU,gBACrDN,KAAA,QAAKiE,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BpE,IAAA,UAAOmE,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAC,wBAAsB,CAAO,CAAC,cACvDpE,IAAA,aACEmE,SAAS,CAAC,iBAAiB,CAC3BQ,IAAI,CAAE,CAAE,CACRvE,KAAK,EAAA2E,eAAA,CAAE7C,CAAC,CAACvB,WAAW,UAAAoE,eAAA,UAAAA,eAAA,CAAI,CAAC7C,CAAC,CAACxB,OAAO,EAAI,EAAE,EAAE0B,IAAI,CAAC,IAAI,CAAE,CACrDmC,QAAQ,CAAGC,CAAC,EACV;AACA3B,OAAO,CAACO,CAAC,CAAE,CACTzC,WAAW,CAAE6D,CAAC,CAACC,MAAM,CAACrE,KAAK,CAC3BM,OAAO,CAAE8D,CAAC,CAACC,MAAM,CAACrE,KAAK,CAACuD,KAAK,CAAC,IAAI,CAAG;AACvC,CAAC,CACF,CACDe,WAAW,oCAErB,CACS,CAAC,EACC,CACN,EACE,CAAC,EApFExC,CAAC,CAACC,GAAG,EAAIiB,CAqFd,CAAC,EACP,CAAC,CACC,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}